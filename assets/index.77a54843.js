var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,o=(t,a,l)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l,s=(e,t)=>{for(var a in t||(t={}))n.call(t,a)&&o(e,a,t[a]);if(l)for(var a of l(t))r.call(t,a)&&o(e,a,t[a]);return e},c=(e,l)=>t(e,a(l)),i=(e,t)=>{var a={};for(var o in e)n.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&l)for(var o of l(e))t.indexOf(o)<0&&r.call(e,o)&&(a[o]=e[o]);return a};import{c as m,r as d,R as p,a as f,A as u,B as b,b as g,C as E,I as v,W as h,u as y,D as N,L as x,T as C,d as O,P as j,e as k}from"./vendor.2187b641.js";const w=m(Array(52).fill(0).map(((e,t)=>String.fromCharCode(t<26?t+65:t+71))).join(""),6),I=(e="")=>e+w();const P=e=>{const{className:t,children:a,mode:l,logo:n,name:r,value:o={},onChange:c,onRemove:i}=e,{title:m,help:h,question:y,description:N}=o,x=d.exports.useCallback((e=>{null==c||c(s(s({},o),e))}),[o,c]);return"item"===l?p.createElement("div",{className:f("fm-t-field","fm-t-field--item",t)},p.createElement(u,{className:"fm-t-field-logo",style:{color:"black",backgroundColor:n.bg},shape:"square",size:"large"},n.icon),p.createElement("div",null,r)):p.createElement("div",{className:f("fm-t-field",t)},p.createElement("div",{className:"fm-t-field-header"},p.createElement(u,{className:"fm-t-field-logo",style:{color:"black",backgroundColor:n.bg},shape:"square",size:"large"},n.icon),p.createElement("div",{className:"fm-t-field-title"},m),p.createElement(b,{type:"text",icon:p.createElement(g,null)},"Edit help content"),p.createElement(b,{type:"text",icon:p.createElement(E,null),onClick:i},"Remove")),p.createElement("div",{className:"fm-t-field-body"},p.createElement("div",{className:"fm-t-field-question"},p.createElement("div",{className:"fm-t-field-label"},"Question"),p.createElement(v,{value:y,onChange:e=>x({question:e.target.value})})),p.createElement("div",{className:"fm-t-field-description"},p.createElement("div",{className:"fm-t-field-label"},"Description text"),p.createElement(v,{value:N,onChange:e=>x({description:e.target.value})})),p.createElement("div",{className:"fm-t-field-options"},p.createElement("div",{className:"fm-t-field-label"},"Response options"),a)))};var S=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",TextInput:e=>{const t=e,{className:a,name:l="Short answer",logo:n={bg:"#F2F0FF",icon:"A"},value:r,onChange:o}=t,m=i(t,["className","name","logo","value","onChange"]);return p.createElement(P,s({className:a,name:l,logo:n,value:r,onChange:o},m),p.createElement("div",{className:"fm-t-text-input"},p.createElement("div",{className:"fm-t-text-input-label"},"Text field label"),p.createElement(v,{value:null==r?void 0:r.label,onChange:e=>null==o?void 0:o(c(s({},r),{label:e.target.value}))})))}});var T=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",TextInput:e=>(console.log("TextInput render",e),p.createElement(v,s({},e)))});const R=e=>p.createElement(h,s({widgets:T},e));const _=e=>{const{className:t,schema:a,onChange:l}=e,[n,r]=d.exports.useState("1"),o=y(),m=d.exports.useCallback((e=>{var t,n,r,o;if(console.log(e),"templates"===(null==(t=e.source)?void 0:t.droppableId)&&"fields"===(null==(n=e.destination)?void 0:n.droppableId)){const t=Object.entries(a.properties);t.splice(e.destination.index,0,[I(),{type:"string",widget:e.draggableId}]);const n=c(s({},a),{properties:Object.fromEntries(t)});console.log("new schema",n),null==l||l(n)}if("fields"===(null==(r=e.source)?void 0:r.droppableId)&&"fields"===(null==(o=e.destination)?void 0:o.droppableId)){const t=Object.entries(a.properties);t.splice(e.destination.index,0,...t.splice(e.source.index,1));const n=c(s({},a),{properties:Object.fromEntries(t)});console.log("new schema",n),null==l||l(n)}}),[a,l]),u=d.exports.useCallback(((e,t)=>{const n=s({},a);n.properties[e]=s(s({},n.properties[e]),t),console.log("new schema",n),null==l||l(n)}),[a,l]),b=d.exports.useCallback((e=>{const t=s({},a);delete t.properties[e],console.log("new schema",t),null==l||l(t)}),[a,l]);return p.createElement(N,{onDragEnd:m},p.createElement(x,{className:f("fm-b",t)},p.createElement(x.Header,{className:"fm-b-header"},p.createElement("h1",null,"Form Builder")),p.createElement(x,null,p.createElement(x.Content,{className:"fm-b-fields"},p.createElement(C,{className:"fm-b-fields-tabs",type:"card",activeKey:n,onTabClick:r},p.createElement(C.TabPane,{tab:"Design",key:"1"},p.createElement(O,{droppableId:"fields"},((e,t)=>p.createElement("div",s({ref:e.innerRef,className:"fm-b-fields-container"},e.droppableProps),Object.entries(a.properties).map((([e,t],a)=>{const l=t,{type:n,widget:r}=l,o=i(l,["type","widget"]),c=S[r];return p.createElement(j,{key:e,draggableId:e,index:a},(t=>p.createElement("div",s(s({key:e,className:"fm-b-field",ref:t.innerRef},t.draggableProps),t.dragHandleProps),p.createElement(c,{value:o,onChange:t=>u(e,t),onRemove:()=>b(e)}))))})))))),p.createElement(C.TabPane,{tab:"Schema",key:"2"},p.createElement("pre",{style:{padding:8,height:"100%",backgroundColor:"white"}},p.createElement("code",null,JSON.stringify(a,null,2)))),p.createElement(C.TabPane,{tab:"Preview",key:"3"},p.createElement(R,{form:o,schema:a})))),p.createElement(x.Sider,{className:"fm-b-templates",width:240},p.createElement("h2",null,"Form components"),p.createElement(O,{droppableId:"templates"},((e,t)=>p.createElement("div",s({ref:e.innerRef},e.droppableProps),Object.entries(S).map((([e,t],a)=>p.createElement(j,{key:e,draggableId:e,index:a},(e=>p.createElement("div",s(s({className:"fm-b-template",ref:e.innerRef},e.draggableProps),e.dragHandleProps),p.createElement(t,{mode:"item"})))))))))))))};const F={type:"object",properties:{[I()]:{type:"string",widget:"TextInput"}}},q=()=>{const[e,t]=d.exports.useState((()=>F));return p.createElement(_,{schema:e,onChange:t})};k.render(p.createElement(q,null),document.getElementById("root"));
